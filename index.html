<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>CAFE RP BACK-UP</title>

  <style>
    /* =========================
       ğŸ¨ ê¸°ë³¸ ì»¬ëŸ¬ (ë‹¤í¬)
       ========================= */
    :root {
      --bg-main: #0c0d12;
      --bg-panel: #15161d;

      --bubble-left: #2a2b33;
      --bubble-right: #3b1b6b;

      --text-main: #e7e7ea;
      --text-dim: #9a9aa3;

      --border-soft: rgba(255,255,255,0.08);
    }

    /* ğŸŒ OS ë¼ì´íŠ¸ ëª¨ë“œ ìë™ */
    @media (prefers-color-scheme: light) {
      :root {
        --bg-main: #f6f6f9;
        --bg-panel: #ffffff;

        --bubble-left: #e7e7ec;
        --bubble-right: #e3d7f3;

        --text-main: #1c1c22;
        --text-dim: #6f6f7a;

        --border-soft: rgba(0,0,0,0.08);
      }
    }

    /* ğŸŒ— ê°•ì œ ë¼ì´íŠ¸ */
    html.force-light {
      --bg-main: #f6f6f9;
      --bg-panel: #ffffff;

      --bubble-left: #e7e7ec;
      --bubble-right: #e3d7f3;

      --text-main: #1c1c22;
      --text-dim: #6f6f7a;

      --border-soft: rgba(0,0,0,0.08);
    }

    /* ğŸŒ‘ ê°•ì œ ë‹¤í¬ */
    html.force-dark {
      --bg-main: #0c0d12;
      --bg-panel: #15161d;

      --bubble-left: #2a2b33;
      --bubble-right: #3b1b6b;

      --text-main: #e7e7ea;
      --text-dim: #9a9aa3;

      --border-soft: rgba(255,255,255,0.08);
    }

    /* =========================
       ğŸ“ ë ˆì´ì•„ì›ƒ
       ========================= */
    body {
      margin: 0;
      padding: 32px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #141521, var(--bg-main));
      color: var(--text-main);
    }

    h1 {
      margin-bottom: 24px;
    }

    .main {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
    }

    .section {
      background: var(--bg-panel);
      border: 1px solid var(--border-soft);
      border-radius: 18px;
      padding: 20px;
      overflow: hidden;
    }

    .section-title {
      font-size: 14px;
      color: var(--text-dim);
      margin-bottom: 12px;
    }

    /* =========================
       âœ ì…ë ¥
       ========================= */
    textarea {
      width: 100%;
      min-height: 300px;
      background: var(--bg-panel);
      color: var(--text-main);
      border: 2px dashed var(--border-soft);
      border-radius: 14px;
      padding: 14px;
      font-size: 14px;
      resize: vertical;
      box-sizing: border-box;
    }

    textarea::placeholder {
      color: var(--text-dim);
      line-height: 1.5;
    }

    /* =========================
       ğŸ’¬ ì±„íŒ… ë¯¸ë¦¬ë³´ê¸°
       ========================= */
    .preview {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .block {
      max-width: 80%;
      padding: 12px 16px;
      border-radius: 14px;
      font-size: 14px;
      line-height: 1.5;
      white-space: pre-wrap;
    }

    .block.character {
      background: var(--bubble-left);
      align-self: flex-start;
    }

    .block.user {
      background: var(--bubble-right);
      color: #fff;
      align-self: flex-end;
    }

    /* =========================
       ğŸ”˜ ë²„íŠ¼
       ========================= */
    .buttons {
      display: flex;
      gap: 12px;
      margin-top: 16px;
    }

    button {
      background: var(--bubble-right);
      color: #fff;
      border: none;
      border-radius: 12px;
      padding: 10px 16px;
      cursor: pointer;
    }

    button.secondary {
      background: var(--bubble-left);
      color: var(--text-main);
    }
  </style>
</head>

<body>
  <h1>CAFE RP BACK-UP</h1>

  <div class="main">
    <!-- LEFT -->
    <div class="section">
      <div class="section-title">ğŸ“¥ ëŒ€í™” ë¡œê·¸ ë¶™ì—¬ë„£ê¸°</div>

      <textarea id="inputText" placeholder="
ì—¬ê¸°ì— RP ë¡œê·¸ë¥¼ ê·¸ëŒ€ë¡œ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.

ì˜ˆ)
&quot;â€¦ê·¸ëŠ” ì¡°ìš©íˆ ì›ƒì—ˆë‹¤.&quot;
&quot;ì™œ ê·¸ë ‡ê²Œ ë³´ëŠ” ê±°ì§€?&quot;
ì„œìˆ ì´ ì„ì—¬ ìˆì–´ë„ ë©ë‹ˆë‹¤.
"></textarea>

      <div class="buttons">
        <button onclick="convert()">ë³€í™˜</button>
        <button class="secondary" onclick="toggleTheme()">ğŸŒ“</button>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="section">
      <div class="section-title">ğŸ‘ ë¯¸ë¦¬ë³´ê¸°</div>
      <div id="preview" class="preview">
        <div class="block character">ìºë¦­í„° ëŒ€ì‚¬ëŠ” ì´ë ‡ê²Œ í‘œì‹œë©ë‹ˆë‹¤.</div>
        <div class="block user">ìœ ì € ëŒ€ì‚¬ëŠ” ì´ë ‡ê²Œ í‘œì‹œë©ë‹ˆë‹¤.</div>
      </div>
    </div>
  </div>

  <script>
    let themeState = "auto"; // auto â†’ light â†’ dark

    function toggleTheme() {
      const html = document.documentElement;
      html.classList.remove("force-light", "force-dark");

      if (themeState === "auto") {
        html.classList.add("force-light");
        themeState = "light";
      } else if (themeState === "light") {
        html.classList.add("force-dark");
        themeState = "dark";
      } else {
        themeState = "auto";
      }
    }

    function convert() {
      const input = document.getElementById("inputText").value;
      const preview = document.getElementById("preview");
      preview.innerHTML = "";

      input.split(/\n+/).forEach(line => {
        if (!line.trim()) return;

        const block = document.createElement("div");
        if (line.includes('"')) {
          block.className = "block character";
          block.textContent = line.replace(/"/g, "");
        } else {
          block.className = "block user";
          block.textContent = line;
        }
        preview.appendChild(block);
      });
    }
  </script>
</body>
</html>
